<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Shreyas A. Bhave | Difference between slope, r and r^2 in computing Pearson and Spearman correlation</title>
<meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.xyz/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">

<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/blog/2018/what-does-corr-coeff-mean/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

  <script src="/assets/js/theme.js"></script>
  <!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="/">
       <span class="font-weight-bold">Shreyas</span> A.  Bhave
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Difference between slope, r and r^2 in computing Pearson and Spearman correlation</h1>
    <p class="post-meta">April 18, 2018</p>
  </header>

  <article class="post-content">
    <p>Recently, I was working on an exploratory analysis to identify environmental and socioeconomic variables that are most correlated with disease prevalences on a population scale across different US cities. Before blindly computing these values, I wanted to get a deeper understanding of the assumptions behind computing a <a href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient">Pearson correlation</a> and also remind myself of the relationship between \(\beta\), \(r\) and \(r^2\) in simple linear regression. Furthermore, I wanted to explore exactly what this means in the context of Spearman correlates as well.</p>

<p>First of all, what is a Pearson correlation (\(r\))?</p>

<p>In simple terms, it is a metric between -1 and 1 to measure the <strong>linear</strong> correlation.</p>

<p>In mathematical terms, itâ€™s basically just the covariance of two random variables normalized by their standard deviations.</p>

<p>In particular, it is the covariance of the normalization of two random variables. A simple derivation is as follows:</p>

\[\begin{align*}
cov(X,Y) &amp;= E[(X - \mu_x)(Y - \mu_y)] \\
cov(\frac{X - \mu_x}{\sigma_x}, \frac{Y - \mu_y}{\sigma_y}) &amp;= E[(\frac{X - \mu_x}{\sigma_x} - E[\frac{X - \mu_x}{\sigma_x}]) (\frac{Y - \mu_y}{\sigma_y} - E[\frac{Y - \mu_y}{\sigma_y}])] \\
&amp;= E[\frac{1}{\sigma_x} (X - \mu_x - E[X-\mu_x]) \frac{1}{\sigma_y} (Y - \mu_y - E[Y - \mu_y])] \\
&amp;= \frac{1}{\sigma_x \sigma_y} E[(X - E[X])(Y - E[Y])] \\
&amp;= \frac{1}{\sigma_x \sigma_y} E[(X - \mu_x)(Y - \mu_y)] \\
&amp;= \frac{1}{\sigma_x \sigma_y} cov(X,Y) \\
&amp;= cor(X,Y)
\end{align*}\]

<p>Thus, we see that correlation is a scaled version of covariance. Using the Cauchy-Schwarz inequality, we can easily prove that correlation must, in fact, be between -1 and 1 as follows. The basic idea is that we can upper bound the covariance of two random variables by the product of their standard deviations. For a closer look at this, see this <a href="https://sbhave77.github.io/blog/2018/cauchy-schwarz-in-different-contexts/">post</a> I wrote!</p>

<p>Ok, this seems to make sense. Basically, the idea is to scale the variables so if they are measured in different units, or their ranges are wildly different we can account for that and then take the resulting covariance.</p>

<p>Another way of thinking about this is to simply transform X and Y.</p>

\[X' = \frac{X - \mu_x}{\sigma_x}\]

\[Y' = \frac{Y - \mu_y}{\sigma_y} \\\]

\[\begin{align*}
cov(X',Y') &amp;= E[(X' - \mu_{x'})(Y' - \mu_{y'})] \\
&amp;= E[X'Y'] - E[X']E[Y'] \\
&amp;= E[X'Y']
\end{align*}\]

<p>Thus, taking the correlation is the same as standardizing the random variables and in the context of a sampling of n points \({(x_i,y_i)}^n\) and graphing them on a plot and then subsequently taking the sample correlation by finding the average of the product of the samples as follows:</p>

\[r = \frac{1}{n-1} \sum_{i=1}^n (\frac{x_i - \bar{x}}{s_x})(\frac{y_i - \bar{y}}{s_y})\]

<p>I find this a useful way to think about this visually.</p>

  </article>

  

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2021 Shreyas A. Bhave.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank">Unsplash</a>.

    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
